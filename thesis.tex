\documentclass[showabstract,showacknowledgments,showpreface,showdedication]{iuphd} 

\PassOptionsToPackage{dvipsnames}{xcolor}
\usepackage{marvosym}
\usepackage{listings}
\usepackage{etoolbox}
\newcommand\hmmax{0}
\newcommand\bmmax{0}
\usepackage{bbold}
\usepackage{amsmath}
% \usepackage{txfonts}
% \usepackage{mathtools}
\usepackage{MnSymbol}
\usepackage{xspace}
\usepackage{mathpartir}
\usepackage{stmaryrd}
\usepackage{hyperref}
\usepackage{graphicx}
\usepackage{subcaption}
\usepackage{float}
\usepackage{makecell}
\usepackage{adjustbox}
\usepackage{balance}
\usepackage{booktabs}
\makeatletter
\let\th@plain\relax
\makeatother
\usepackage[thmmarks,thref,amsmath]{ntheorem}
\usepackage[noabbrev]{cleveref}

\setcounter{secnumdepth}{3}

\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}[theorem]{Lemma}

% Cases in a proof.
\theorempreskip{0pt}
\theorempostskip{10pt}
\theoremheaderfont{\scshape}
\theorembodyfont{\upshape}
\theoremindent10pt
\newtheorem*{goal}{Obl.}

%\theorempreskip{5pt}
%\theorempostwork{\setcounter{goal}{0}}
\theoremindent10pt
\newtheorem{subcase}{SubCase}
\theorempostwork{\setcounter{subcase}{0}}
%\theoremindent0pt
\newtheorem{ncase}{Case}
\newtheorem*{bcase}{Case}


% Proof sketches.
\theoremstyle{nonumberplain}
\theorempreskip{0pt}
\theorempostskip{10pt}
\theoremheaderfont{\scshape}
\theorembodyfont{\upshape}

\theorempostwork{\setcounter{ncase}{0}}
\newtheorem{proofsketch}{Proof Sketch}

\theorempostwork{\setcounter{ncase}{0}}
\newtheorem{nproof}{Proof}



% For title and abstract page

\title{A Language-based Approach to Programming with Serialized Data}
\author{Michael Vollmer}
\date{Month 2020} % Completion date of Dissertation
\department{Computer Science} % Change this to your department if not Mathematics

% For acceptance and abstract page

\committeechair{Ryan Newton, PhD}
\readertwo{Jeremy Siek, PhD}
\readerthree{Sam Tobin-Hochstadt, PhD}
\readerfour{Larry Moss, PhD}
\defensedate{November 13, 2020} % Date of PhD defense

% For Copyright Page
\cryear{2020} % Copyright year

\input{defs}
\input{formal_typings1}
\input{formal_dynamics1}
\input{editingmarks}

%% \input{haskell_style}
%% \input{lsthaskell.sty}
\usepackage{upquote}

\lstnewenvironment{code}
    {%\lstset{style=haskell}%
      \lstset{escapechar={\@},mathescape=true}
      \lstset{language=Haskell}
      \lstset{
        morekeywords={letloc},
        deletekeywords={Int,read},
        literate=
        {\\\\}{{\char`\\\char`\\}}1
        {>->}{>->}3
        {>>=}{>>=}3
        {->}{{$\rightarrow$}}2
        {->.}{{$\multimap$}}2
        {>=}{{$\geq$}}2
        {<-}{{$\leftarrow$}}2
        {<=}{{$\leq$}}2
        {=>}{{$\Rightarrow$}}2
        {|}{{$\mid$}}1
        {forall}{{$\forall$}}1
        {exists}{{$\exists$}}1
        {...}{{$\cdots$}}3
      }
      \csname lst@SetFirstLabel\endcsname}
    {\csname lst@SaveFirstLabel\endcsname}
    {}
%% \lstset{style=haskell}
\lstdefinestyle{inline}{%
  basicstyle=\footnotesize\ttfamily,
  upquote=true,
    keywordstyle=[1],
    keywordstyle=[2],
    keywordstyle=[3],
    keywordstyle=[4],
    escapechar={\@},
    mathescape=true,
    literate=
        {\\}{{$\lambda$}}1
        {Lambda}{{$\Lambda$}}1        
        {\\\\}{{\char`\\\char`\\}}1
        {>->}{>->}3
        {>>=}{>>=}3
        {->}{{$\rightarrow$\space}}3    % include forced space
        {>=}{{$\geq$}}2
        {<-}{{$\leftarrow$}}2
        {<=}{{$\leq$}}2
        {=>}{{$\Rightarrow$}}2
        {|}{{$\mid$}}1
%        {~}{{$\sim$}}1
        {forall}{{$\forall$}}1
        {exists}{{$\exists$}}1
        {...}{{$\cdots$}}3
}

% \newcommand{\inl}[1]{\lstinline[style=inline];#1;}
\newcommand{\il}[1]{\lstinline[style=inline,mathescape=true];#1;}

\newcommand{\makeatcode}{\lstMakeShortInline[style=inline]@}
\newcommand{\makeatchar}{\lstDeleteShortInline@}

\begin{document}
\maketitle
\acceptancepage

% This page is optional
%\copyrightpage


% This page is optional but generally included

\begin{acknowledgments}
  I first decided I wanted to study programming languages while reading
  \emph{The Little Schemer}. At the time\ldots Say something about Dan and Jason,
  For visit day, Jason picked me up from the airport, met Dan, etc.

  Just days after arriving in Bloomington, my wife and I found ourselves at
  The Tap with a few of the Indiana University PL group. Here we met Cameron
  Swords, Mike Vitousek, Matteo Cimini, and \ldots, for what would be the first of many
  long nights spent discussing programming languages, science fiction,
  bad movies, and beer. Without these nights, I would likely never have survived
  graduate school.

  I also could not have gotten here without my collaborators on the Gibbon Project.
  Milind Kulkarni, Chaitanya Koparkar, Laith Sakka, Sam TH, Buddhika Chamith\ldots

  Ryan not only taught me how to do research, he gave me a framework for how to
  think about software. He turned me from a Schemer into a hardened Haskeller and
  staunch advocate for static types. He taught me how to build a compiler, and
  building compilers is now one of my favorite things in the world.

  Ambrose Bonnaire-Sergeant, for getting lost in Mumbai with me, and\ldots

  Bo Joel Svensson and Trevor L. McDonell\ldots

  I am thankful for all the attendees of PL Wonks in Bloomington, for presenting
  their work and putting up with mine. Thanks especially to Wonks regulars Ryan
  Scott, Vikraman Choudhury, Matthew Heimerdinger, Sarah Spall, Laurel Carter,
  Praveen Narayanan, Andre Kuhlenschmidt, Rajan Walia, Andrew Kent, and Paulette Koronkevich.

  Thanks to my family for encouraging me when I was down, for always telling me
  they're proud of me, and for politely listening when I tried to explain
  my research\ldots

  And most of all, I want to thank my wife, Victoria Vollmer. She was the person
  who first encouraged me to go to graduate school. At the start, the plan was
  that I would study Computer Science and she would study Mathematics. We applied
  to schools around the country, and eventually both chose Indiana University. Our
  adventure started with a cross-country drive from California to Indiana, and
  eventually, years later, led to us getting married. Along the way, Victoria had
  become a formidable computer scientist and logician, and an invaluable help to
  me in all of my research.

% This is the (optional) acknowledgments page, which is designed to recognize people or agencies to whom you feel grateful for any academic, technical, financial, or personal aid in the preparation of your thesis. As a matter of courtesy, you should ordinarily mention the members of your committee here, as well as institutions that provided funding.
\end{acknowledgments}

% This page is optional

\begin{dedication}
This is the (optional) dedication page. Per Graduate School standards, this page should appear with no title and should be centered horizontally and vertically.
\end{dedication}

% This page is optional

\begin{preface}
This is the (optional) preface page which can be used if you wish. This page should appear after the dedication (or acknowledgements page if there is no dedication page) and before the abstract page.
\end{preface}

% % This page is required

\begin{abstract}
This abstract page is required. Make sure to adhere to the word count and other limits set by ProQuest. It should appear in your dissertation that is submitted to the Graduate School \emph{without} signatures.
\end{abstract}

\newpage

% This page is required

\tableofcontents

\chapter{Introduction}\label{chapter:intro}

\input{intro}

\chapter{The Location Calculus}\label{chapter:local}

\input{local}

\chapter{The Gibbon Compiler}\label{chapter:gibbon}

\input{gibbon}


%% \newpage

% \appendix command is necessary to change chapter numbering.
% Appendices are optional

\appendix



\chapter{Type Safety Proof}\label{appendix:proof}

\input{appendix}


\addcontentsline{toc}{chapter}{Bibliography}

\bibliographystyle{acm}
%\include{your_bibliography_name.tex}
\bibliography{refs}

% Adds a line for your CV without a page number

%% \addtocontents{toc}{%
%%   \protect\contentsline{chapter}{Curriculum Vitae}{}}
\end{document}
